{
  "rules": {
    ".read": false,
    "presence": {
      "$uid": {
        ".read": "auth != null && auth.uid === $uid",
        ".write": "auth != null && auth.uid === $uid && (auth.token.firebase == null || auth.token.firebase.sign_in_attributes == null || auth.token.firebase.sign_in_attributes.app_id != null)"
      }
    },
    "matchmakingQueue": {
      "$uid": {
        ".read": "auth != null && auth.uid === $uid",
        ".write": "auth != null && auth.uid === $uid",
        ".validate": "newData.hasChildren(['uid', 'timestamp', 'preference'])"
      }
    },
    ".write": false
  }
}